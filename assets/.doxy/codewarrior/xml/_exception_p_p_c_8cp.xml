<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="_exception_p_p_c_8cp" kind="file" language="C++">
    <compoundname>ExceptionPPC.cp</compoundname>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>ExceptionPPC.cp<sp/><sp/><sp/><sp/><sp/>-<sp/><sp/><sp/>Exception<sp/>Handling<sp/>Runtime<sp/>Support<sp/>for<sp/>CodeWarrior(PowerPC)</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>Copyright<sp/>ã‚¥<sp/>1995-1997<sp/>Metrowerks,<sp/>Inc.<sp/><sp/>All<sp/>rights<sp/>reserved.</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>POWERPC<sp/>STACK<sp/>FRAME<sp/>FORMAT</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>The<sp/>PowerPC<sp/>runtime<sp/>architecture<sp/>uses<sp/>a<sp/>grow-down<sp/>stack<sp/>with<sp/>a<sp/>single<sp/>stack</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>pointer<sp/>at<sp/>the<sp/>low<sp/>address<sp/>end.<sp/>The<sp/>stack<sp/>has<sp/>the<sp/>following<sp/>organization:</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/></highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>LOW<sp/>ADDRESSES<sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>GPR<sp/>save<sp/>area<sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|<sp/><sp/><sp/>Can<sp/>be<sp/>used<sp/>by<sp/>frameless<sp/>leaf<sp/>routines</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>FPR<sp/>save<sp/>area<sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>Callee&apos;s<sp/>SP<sp/><sp/><sp/>=&gt;|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Callee&apos;s<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/>linkage<sp/>area<sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Callee&apos;s<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>Storage<sp/>for<sp/>parameters<sp/>passed<sp/>to</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>parameter<sp/>area<sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>routines<sp/>called<sp/>by<sp/>callee</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Callee&apos;s<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>local<sp/>variables<sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>alignment<sp/>gap<sp/>1<sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>GPR<sp/>save<sp/>area<sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>Storage<sp/>for<sp/>nonvolatile<sp/>GPRs<sp/>used<sp/>by<sp/>callee</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>alignment<sp/>gap<sp/>2<sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>FPR<sp/>save<sp/>area<sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>Storage<sp/>for<sp/>nonvolatile<sp/>FPRs<sp/>used<sp/>by<sp/>callee</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>Caller&apos;s<sp/>SP<sp/><sp/><sp/>=&gt;|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Caller&apos;s<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/>linkage<sp/>area<sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Caller&apos;s<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>Storage<sp/>for<sp/>parameters<sp/>passed<sp/>to</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>parameter<sp/>area<sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>callee</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Caller&apos;s<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>local<sp/>variables<sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>HIGH<sp/>ADDRESSES<sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>where<sp/>the<sp/>&quot;linkage<sp/>area&quot;<sp/>looks<sp/>like<sp/>this:</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0<sp/><sp/><sp/>|<sp/>Stack<sp/>Frame<sp/>Back<sp/>Link<sp/>|<sp/><sp/><sp/>Pointer<sp/>to<sp/>caller&apos;s<sp/>frame</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>4<sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Saved<sp/>CR<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>Our<sp/>CR<sp/>(saved<sp/>by<sp/>routines<sp/>we<sp/>call)</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>8<sp/><sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Saved<sp/>LR<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><sp/>Our<sp/>LR<sp/>(saved<sp/>by<sp/>routines<sp/>we<sp/>call)</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>12<sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Reserved)<sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>16<sp/><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Reserved)<sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>20<sp/><sp/>|<sp/><sp/><sp/>Saved<sp/>TOC<sp/>Pointer<sp/><sp/><sp/>|<sp/><sp/><sp/>Our<sp/>TOC<sp/>(saved<sp/>by<sp/>cross-TOC<sp/>glue)</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|-----------------------|</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>To<sp/>unwind<sp/>the<sp/>stack,<sp/>we<sp/>start<sp/>with<sp/>a<sp/>return<sp/>address<sp/>and<sp/>SP<sp/>for<sp/>the<sp/>routine<sp/>which</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>threw<sp/>the<sp/>exception.<sp/>The<sp/>next<sp/>return<sp/>address<sp/>can<sp/>be<sp/>found<sp/>by<sp/>following<sp/>the</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>back-link<sp/>at<sp/>0(SP)<sp/>and<sp/>accessing<sp/>the<sp/>saved<sp/>LR<sp/>in<sp/>that<sp/>frame.</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>Restoring<sp/>registers<sp/>is<sp/>slightly<sp/>more<sp/>tricky.<sp/>If<sp/>&apos;saved_CR&apos;<sp/>is<sp/>true,<sp/>we<sp/>restore</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>the<sp/>CR<sp/>from<sp/>the<sp/>callers<sp/>linkage<sp/>area.<sp/>For<sp/>saved<sp/>GPRs<sp/>and<sp/>FPRs<sp/>we<sp/>start<sp/>with</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>the<sp/>callers<sp/>SP;<sp/>the<sp/>&lt;n&gt;<sp/>saved<sp/>FPRs<sp/>will<sp/>be<sp/>at<sp/>&lt;callers<sp/>SP&gt;<sp/>-<sp/>(8<sp/>*<sp/>&lt;n&gt;)<sp/>and<sp/>the</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>&lt;m&gt;<sp/>saved<sp/>GPRs<sp/>will<sp/>be<sp/>the<sp/>(&lt;m&gt;<sp/>*<sp/>4)<sp/>words<sp/>ending<sp/>at<sp/>at<sp/>&lt;callers<sp/>SP&gt;<sp/>-<sp/>(8<sp/>*<sp/>&lt;n&gt;)</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>adjusted<sp/>so<sp/>that<sp/>the<sp/>last<sp/>word<sp/>ends<sp/>on<sp/>a<sp/>16-byte<sp/>boundary.<sp/>(See<sp/>below)</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#if<sp/>__MWERKS__</highlight></codeline>
<codeline><highlight class="normal">#pragma<sp/>exceptions<sp/>on</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#define<sp/>__NOSTRING__<sp/><sp/><sp/><sp/>//<sp/><sp/>do<sp/>not<sp/>include<sp/>&lt;string&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#include<sp/>&lt;stdlib.h&gt;</highlight></codeline>
<codeline><highlight class="normal">#include<sp/>&lt;MWCPlusLib.h&gt;</highlight></codeline>
<codeline><highlight class="normal">#include<sp/>&lt;exception.h&gt;</highlight></codeline>
<codeline><highlight class="normal">#include<sp/>&quot;ExceptionPPC.h&quot;</highlight></codeline>
<codeline><highlight class="normal">#include<sp/>&lt;NMWException.h&gt;<sp/><sp/><sp/>//<sp/>ra<sp/>990322<sp/>changed<sp/>from<sp/>&quot;&quot;<sp/>to<sp/>&lt;&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#if<sp/>__PPC_EABI__</highlight></codeline>
<codeline><highlight class="normal">#include<sp/>&lt;__ppc_eabi_linker.h&gt;<sp/><sp/><sp/><sp/><sp/><sp/>/*<sp/>linker-generated<sp/>symbol<sp/>declarations<sp/>*/</highlight></codeline>
<codeline><highlight class="normal">#define<sp/>RETURN_ADDRESS<sp/>4</highlight></codeline>
<codeline><highlight class="normal">#else</highlight></codeline>
<codeline><highlight class="normal">#define<sp/>RETURN_ADDRESS<sp/>8</highlight></codeline>
<codeline><highlight class="normal">#define<sp/>nofralloc</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#if<sp/>1</highlight></codeline>
<codeline><highlight class="normal">#define<sp/>INLINE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>static<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>static<sp/>for<sp/>debugging</highlight></codeline>
<codeline><highlight class="normal">#else</highlight></codeline>
<codeline><highlight class="normal">#define<sp/>INLINE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inline<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>inline<sp/>for<sp/>shipping<sp/>code</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#if<sp/>__VEC__</highlight></codeline>
<codeline><highlight class="normal">#pragma<sp/>options<sp/>align=power</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#if<sp/>__VEC__</highlight></codeline>
<codeline><highlight class="normal">union<sp/>MWEVector128<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>__vector<sp/>unsigned<sp/>long<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vul;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>unsigned<sp/>long<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l[4];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>unsigned<sp/>short<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s[8];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>unsigned<sp/>char<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c[16];</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
<codeline><highlight class="normal">typedef<sp/>union<sp/>MWEVector128<sp/>MWEVector128;</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">//<sp/><sp/>typedefs</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">typedef<sp/>struct<sp/>ThrowContext<sp/>{</highlight></codeline>
<codeline><highlight class="normal">#if<sp/>__VEC__</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>MWEVector128<sp/>VR[32];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>VR0-VR31<sp/>(not<sp/>all<sp/>are<sp/>saved/restored)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>MWEVector128<sp/>vscr;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>unsigned<sp/>long<sp/>vrsave;</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline><highlight class="normal">#ifndef<sp/>_No_Floating_Point_Regs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>double<sp/><sp/><sp/><sp/><sp/><sp/>FPR[32];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>FPR0-FPR31<sp/><sp/>(not<sp/>all<sp/>are<sp/>saved/restored)</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>long<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GPR[32];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>GPR0-GPR31<sp/><sp/>(not<sp/>all<sp/>are<sp/>saved/restored)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>long<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CR;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>CR0-CR7</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/>SP;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>stack<sp/>pointer<sp/>during<sp/>unwind<sp/>(used<sp/>for<sp/>linkage)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/>FP;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>frame<sp/>pointer<sp/>during<sp/>unwind<sp/>(used<sp/>for<sp/>locals)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/>throwSP;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>stack<sp/>pointer<sp/>at<sp/>throw</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/>returnaddr;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>return<sp/>address</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/>throwtype;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>throw<sp/>type<sp/>argument<sp/>(0L:<sp/>rethrow:<sp/>throw;<sp/>)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>void*<sp/><sp/><sp/><sp/><sp/><sp/><sp/>location;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>location<sp/>argument<sp/>(0L:<sp/>rethrow:<sp/>throw;<sp/>)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>void*<sp/><sp/><sp/><sp/><sp/><sp/><sp/>dtor;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>dtor<sp/>argument</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>CatchInfo<sp/><sp/><sp/>*catchinfo;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>pointer<sp/>to<sp/>rethrow<sp/>CatchInfo<sp/>(or<sp/>0L)<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal">}<sp/><sp/><sp/>ThrowContext;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">typedef<sp/>struct<sp/>MWExceptionInfo<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ExceptionTableSmall*<sp/><sp/><sp/><sp/>exception_record;<sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>pointer<sp/>to<sp/>exception<sp/>table<sp/>(small<sp/>or<sp/>large)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>current_function;<sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>pointer<sp/>to<sp/>current<sp/>function</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>action_pointer;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>pointer<sp/>to<sp/>action</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>code_section;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>base<sp/>of<sp/>code<sp/>section<sp/>for<sp/>fragment<sp/>containing<sp/>table</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data_section;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>base<sp/>of<sp/>data<sp/>section<sp/>for<sp/>fragment<sp/>containing<sp/>table</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TOC;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>TOC<sp/>pointer<sp/>for<sp/>fragment<sp/>containing<sp/>table</highlight></codeline>
<codeline><highlight class="normal">}<sp/><sp/><sp/>MWExceptionInfo;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">typedef<sp/>struct<sp/>FragmentInfo<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ExceptionTableIndex*<sp/><sp/><sp/><sp/>exception_start;<sp/><sp/><sp/><sp/>//<sp/><sp/>start<sp/>of<sp/>exception<sp/>table<sp/>index<sp/>for<sp/>fragment</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ExceptionTableIndex*<sp/><sp/><sp/><sp/>exception_end;<sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>end<sp/>of<sp/>exception<sp/>table<sp/>index<sp/>for<sp/>fragment</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>code_start;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>start<sp/>of<sp/>code<sp/>section<sp/>for<sp/>fragment</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>code_end;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>end<sp/>of<sp/>code<sp/>section<sp/>for<sp/>fragment</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data_start;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>start<sp/>of<sp/>data<sp/>section<sp/>for<sp/>fragment</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data_end;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>end<sp/>of<sp/>data<sp/>section<sp/>for<sp/>fragment</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TOC;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>TOC<sp/>pointer<sp/>for<sp/>fragment</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>active;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>true:<sp/>fragmentinfo<sp/>element<sp/>is<sp/>registered</highlight></codeline>
<codeline><highlight class="normal">}<sp/>FragmentInfo;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">typedef<sp/>struct<sp/>ProcessInfo<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>__eti_init_info*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exception_info;<sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>start<sp/>of<sp/>exception<sp/>table<sp/>index<sp/>for<sp/>fragment</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TOC;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>TOC<sp/>pointer<sp/>for<sp/>fragment</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>active;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>true:<sp/>fragmentinfo<sp/>element<sp/>is<sp/>registered</highlight></codeline>
<codeline><highlight class="normal">}<sp/>ProcessInfo;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">typedef<sp/>struct<sp/>ActionIterator<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>MWExceptionInfo<sp/>info;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>pointer<sp/>to<sp/>exception<sp/>record</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>current_SP;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>current<sp/>stack<sp/>pointer</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>current_FP;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>current<sp/>frame<sp/>pointer<sp/>(SP<sp/>or<sp/>R31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>long<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>current_R31;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>current<sp/>R31</highlight></codeline>
<codeline><highlight class="normal">}<sp/><sp/><sp/>ActionIterator;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#if<sp/>__VEC__</highlight></codeline>
<codeline><highlight class="normal">#pragma<sp/>options<sp/>align=reset</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#if<sp/>__PPC_EABI__</highlight></codeline>
<codeline><highlight class="normal">#define<sp/>MAXFRAGMENTS<sp/>__CW_MAX_PROCESSES__<sp/><sp/><sp/>//<sp/><sp/>maximum<sp/>#<sp/>of<sp/>code<sp/>fragments<sp/>we<sp/>can<sp/>register</highlight></codeline>
<codeline><highlight class="normal">static<sp/>ProcessInfo<sp/>fragmentinfo[MAXFRAGMENTS];</highlight></codeline>
<codeline><highlight class="normal">#else</highlight></codeline>
<codeline><highlight class="normal">#define<sp/>MAXFRAGMENTS<sp/><sp/><sp/><sp/>32<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>maximum<sp/>#<sp/>of<sp/>code<sp/>fragments<sp/>we<sp/>can<sp/>register</highlight></codeline>
<codeline><highlight class="normal">static<sp/>FragmentInfo<sp/>fragmentinfo[MAXFRAGMENTS];</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">typedef<sp/>void<sp/>(*DeleteFunc)(void<sp/>*);</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#if<sp/>__PPC_EABI__</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Register<sp/>a<sp/>code<sp/>fragment<sp/>and<sp/>its<sp/>exception<sp/>tables<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>__eti_init_info<sp/>structure<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>TOC<sp/>for<sp/>fragment<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>unique<sp/>ID<sp/>for<sp/>__ex_unregister_fragment<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">int<sp/>__register_fragment(struct<sp/>__eti_init_info<sp/>*info,<sp/>char<sp/>*TOC)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ProcessInfo<sp/>*f;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>int<sp/>i;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>find<sp/>a<sp/>free<sp/>entry<sp/>in<sp/>the<sp/>fragment<sp/>table</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>for(i=0,f=fragmentinfo;i&lt;MAXFRAGMENTS;++i,++f)<sp/>if(f-&gt;active==0)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;exception_info=info;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;TOC=TOC;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;active=1;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return(i);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>couldn&apos;t<sp/>register<sp/>the<sp/>fragment</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>return(-1);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal">#else</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Register<sp/>a<sp/>code<sp/>fragment<sp/>and<sp/>its<sp/>exception<sp/>tables<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>start<sp/>of<sp/>fragments<sp/>code<sp/>section<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>end<sp/><sp/><sp/>of<sp/>fragments<sp/>code<sp/>section<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>start<sp/>of<sp/>fragments<sp/>data<sp/>section<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>end<sp/><sp/><sp/>of<sp/>fragments<sp/>data<sp/>section<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>start<sp/>of<sp/>fragments<sp/>exception<sp/>table<sp/>index<sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>end<sp/><sp/><sp/>of<sp/>fragments<sp/>exception<sp/>table<sp/>index<sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>RTOC<sp/>for<sp/>fragment<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>unique<sp/>ID<sp/>for<sp/>__ex_unregister_fragment<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">int<sp/>__register_fragment(char<sp/>*code_start,<sp/>char<sp/>*code_end,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>char<sp/>*data_start,<sp/>char<sp/>*data_end,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>char<sp/>*exception_start,<sp/>char<sp/>*exception_end,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>char<sp/>*TOC)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>FragmentInfo<sp/>*f;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>int<sp/>i;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>find<sp/>a<sp/>free<sp/>entry<sp/>in<sp/>the<sp/>fragment<sp/>table</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>for(i=0,f=fragmentinfo;i&lt;MAXFRAGMENTS;++i,++f)<sp/>if(f-&gt;active==0)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;code_start=code_start;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;code_end=code_end;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;data_start=data_start;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;data_end=data_end;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;exception_start=(ExceptionTableIndex<sp/>*)exception_start;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;exception_end=(ExceptionTableIndex<sp/>*)exception_end;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;TOC=TOC;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;active=1;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return(i);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>couldn&apos;t<sp/>register<sp/>the<sp/>fragment</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>return(-1);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Un-register<sp/>a<sp/>code<sp/>fragment<sp/>and<sp/>its<sp/>exception<sp/>tables<sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>unique<sp/>ID<sp/>assigned<sp/>in<sp/>__ex_register_fragment<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">#if<sp/>__PPC_EABI__</highlight></codeline>
<codeline><highlight class="normal">void<sp/>__unregister_fragment(int<sp/>fragmentID)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ProcessInfo<sp/>*f;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if(fragmentID&gt;=0<sp/>&amp;&amp;<sp/>fragmentID&lt;MAXFRAGMENTS)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f<sp/>=<sp/>&amp;fragmentinfo[fragmentID];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;exception_info=0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;TOC=0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;active=0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal">#else</highlight></codeline>
<codeline><highlight class="normal">void<sp/>__unregister_fragment(int<sp/>fragmentID)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>FragmentInfo<sp/>*f;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if(fragmentID&gt;=0<sp/>&amp;&amp;<sp/>fragmentID&lt;MAXFRAGMENTS)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f<sp/>=<sp/>&amp;fragmentinfo[fragmentID];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;code_start=0;<sp/>f-&gt;code_end=0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;data_start=0;<sp/>f-&gt;data_end=0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;exception_start=0;<sp/>f-&gt;exception_end=0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;TOC=0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;active=0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Get<sp/>an<sp/>exception<sp/>fragment<sp/>record<sp/>pointer<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>return<sp/>address<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>pointer<sp/>to<sp/>FragmentInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">#if<sp/>__PPC_EABI__</highlight></codeline>
<codeline><highlight class="normal">static<sp/>int<sp/>ExPPC_FindExceptionFragment(char<sp/>*returnaddr,<sp/>FragmentInfo<sp/>*frag)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ProcessInfo<sp/>*f;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>int<sp/>i;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>__eti_init_info<sp/>*eti_info;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>for(i=0,f=fragmentinfo;i&lt;MAXFRAGMENTS;++i,++f)<sp/>if(f-&gt;active)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eti_info<sp/>=<sp/>f-&gt;exception_info;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>while<sp/>(1)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(eti_info-&gt;code_size<sp/>==<sp/>0)<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(returnaddr&gt;=eti_info-&gt;code_start<sp/>&amp;&amp;<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>returnaddr&lt;(char*)eti_info-&gt;code_start+eti_info-&gt;code_size)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frag-&gt;exception_start<sp/>=<sp/>(ExceptionTableIndex<sp/>*)eti_info-&gt;eti_start;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frag-&gt;exception_end<sp/>=<sp/>(ExceptionTableIndex<sp/>*)eti_info-&gt;eti_end;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>/*<sp/>the<sp/>starts<sp/>and<sp/>ends<sp/>are<sp/>only<sp/>used<sp/>to<sp/>find<sp/>the<sp/>fragment<sp/><sp/>*/<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frag-&gt;code_start<sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frag-&gt;code_end<sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frag-&gt;data_start<sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frag-&gt;data_end<sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frag-&gt;TOC<sp/>=<sp/>f-&gt;TOC;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frag-&gt;active<sp/>=<sp/>f-&gt;active;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return(1);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eti_info++;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>return(0);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal">#else</highlight></codeline>
<codeline><highlight class="normal">static<sp/>FragmentInfo<sp/>*ExPPC_FindExceptionFragment(char<sp/>*returnaddr)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>FragmentInfo<sp/>*f;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>int<sp/>i;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>for(i=0,f=fragmentinfo;i&lt;MAXFRAGMENTS;++i,++f)<sp/>if(f-&gt;active)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(returnaddr&gt;=f-&gt;code_start<sp/>&amp;&amp;<sp/>returnaddr&lt;f-&gt;code_end)<sp/>return(f);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>return(0);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Get<sp/>a<sp/>exception<sp/>record<sp/>pointer<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>return<sp/>address<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>MWExceptionInfo<sp/>struct<sp/>for<sp/>result<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">static<sp/>void<sp/>ExPPC_FindExceptionRecord(char<sp/>*returnaddr,MWExceptionInfo<sp/>*info)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>FragmentInfo<sp/>*fragment;</highlight></codeline>
<codeline><highlight class="normal">#if<sp/>__PPC_EABI__</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>FragmentInfo<sp/>frag;</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ExceptionTableIndex<sp/>*exceptionindex,*p;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>unsigned<sp/>long<sp/>returnoffset;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>long<sp/>i,m,n;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>so<sp/>far<sp/>we<sp/>haven&apos;t<sp/>found<sp/>anything</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;exception_record=0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;action_pointer=0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>find<sp/>the<sp/>exception<sp/>table<sp/>for<sp/>the<sp/>fragment<sp/>containing<sp/>&apos;returnaddr&apos;</highlight></codeline>
<codeline><highlight class="normal">#if<sp/>__PPC_EABI__</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>((ExPPC_FindExceptionFragment(returnaddr,<sp/>&amp;frag))==0)<sp/>return;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>fragment<sp/>=<sp/>&amp;frag;</highlight></codeline>
<codeline><highlight class="normal">#else</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>((fragment=ExPPC_FindExceptionFragment(returnaddr))==0)<sp/>return;</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;code_section=fragment-&gt;code_start;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;data_section=fragment-&gt;data_start;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;TOC=fragment-&gt;TOC;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>binary-search<sp/>the<sp/>exception<sp/>table<sp/>index<sp/>for<sp/>a<sp/>function<sp/>containing<sp/>&apos;returnaddr&apos;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>returnoffset=returnaddr-fragment-&gt;code_start;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>exceptionindex=fragment-&gt;exception_start;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>for(i=0,n=fragment-&gt;exception_end-fragment-&gt;exception_start;;)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(i&gt;n)<sp/>return;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p=&amp;exceptionindex[m=(i+n)/2];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(returnoffset&lt;p-&gt;functionoffset)<sp/>n=m-1;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else<sp/>if(returnoffset&gt;p-&gt;functionoffset+ETI_GetFunctionSize(p-&gt;eti_field))<sp/>i=m+1;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;current_function=fragment-&gt;code_start+p-&gt;functionoffset;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;exception_record=ETI_GetDirectStore(p-&gt;eti_field)?(ExceptionTableSmall<sp/>*)(&amp;p-&gt;exceptionoffset)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:(ExceptionTableSmall<sp/>*)(fragment-&gt;data_start+p-&gt;exceptionoffset);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>find<sp/>the<sp/>set<sp/>of<sp/>actions<sp/>to<sp/>perform<sp/>for<sp/>an<sp/>exception<sp/>thrown<sp/>from<sp/>&apos;returnaddr&apos;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>returnoffset-=p-&gt;functionoffset;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(<sp/>ET_IsLargeTable(info-&gt;exception_record-&gt;et_field)<sp/>)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExceptionTableLarge<sp/>*etl<sp/>=<sp/>(ExceptionTableLarge<sp/>*)<sp/>info-&gt;exception_record;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExceptionRangeLarge<sp/>*erl;<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for(<sp/>erl<sp/>=<sp/>etl-&gt;ranges;<sp/>erl-&gt;start<sp/>!=<sp/>0;<sp/>erl++<sp/>)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>unsigned<sp/>long<sp/>range_end<sp/>=<sp/>erl-&gt;start<sp/>+<sp/>(erl-&gt;size<sp/>*<sp/>4);<sp/><sp/><sp/><sp/><sp/>//<sp/>large<sp/>range<sp/>is<sp/>256K<sp/>(64K<sp/>*<sp/>4)<sp/>...<sp/>(+4?)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(<sp/>erl-&gt;start<sp/>&lt;=<sp/>returnoffset<sp/>&amp;&amp;<sp/>range_end<sp/>&gt;=<sp/>returnoffset<sp/>)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer<sp/>=<sp/>(char<sp/>*)<sp/>etl<sp/>+<sp/>erl-&gt;action;<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>else</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal">#if<sp/>__VEC__</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExceptionTableSmall<sp/>*ets<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>(ExceptionTableSmall<sp/>*)<sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;exception_record;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExceptionTableSmallVector<sp/>*etsv<sp/>=<sp/>(ExceptionTableSmallVector<sp/>*)<sp/>info-&gt;exception_record;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExceptionRangeSmall<sp/>*ers;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(<sp/>ET_HasVectorInfo(info-&gt;exception_record-&gt;et_field)<sp/>)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for(<sp/>ers<sp/>=<sp/>etsv-&gt;ranges;<sp/>ers-&gt;start<sp/>!=<sp/>0;<sp/>ers++<sp/>)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(<sp/>ers-&gt;start<sp/>&lt;=<sp/>returnoffset<sp/>&amp;&amp;<sp/>ers-&gt;end<sp/>&gt;=<sp/>returnoffset)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer<sp/>=<sp/>(char<sp/>*)<sp/>etsv<sp/>+<sp/>ers-&gt;action;<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for(<sp/>ers<sp/>=<sp/>ets-&gt;ranges;<sp/>ers-&gt;start<sp/>!=<sp/>0;<sp/>ers++<sp/>)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(<sp/>ers-&gt;start<sp/>&lt;=<sp/>returnoffset<sp/>&amp;&amp;<sp/>ers-&gt;end<sp/>&gt;=<sp/>returnoffset)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer<sp/>=<sp/>(char<sp/>*)<sp/>ets<sp/>+<sp/>ers-&gt;action;<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">#else</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExceptionTableSmall<sp/>*ets<sp/>=<sp/>(ExceptionTableSmall<sp/>*)<sp/>info-&gt;exception_record;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExceptionRangeSmall<sp/>*ers;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for(<sp/>ers<sp/>=<sp/>ets-&gt;ranges;<sp/>ers-&gt;start<sp/>!=<sp/>0;<sp/>ers++<sp/>)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(<sp/>ers-&gt;start<sp/>&lt;=<sp/>returnoffset<sp/>&amp;&amp;<sp/>ers-&gt;end<sp/>&gt;=<sp/>returnoffset)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer<sp/>=<sp/>(char<sp/>*)<sp/>ets<sp/>+<sp/>ers-&gt;action;<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Find<sp/>R31<sp/>saved<sp/>in<sp/>given<sp/>stack<sp/>frame<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>exception<sp/>record<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>pointer<sp/>to<sp/>return<sp/>PC<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">static<sp/>long<sp/>ExPPC_PopR31(char<sp/>*SP,MWExceptionInfo<sp/>*info)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal">#ifndef<sp/>_No_Floating_Point_Regs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>double<sp/>*FPR_save_area;</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>long<sp/>*GPR_save_area;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>int<sp/>saved_GPRs,<sp/>saved_FPRs;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal">#ifndef<sp/>_No_Floating_Point_Regs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>find<sp/>saved<sp/>FPRs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>saved_FPRs=ET_GetSavedFPRs(info-&gt;exception_record-&gt;et_field);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>FPR_save_area=(double<sp/>*)(SP-saved_FPRs*8);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>find<sp/>saved<sp/>GPRs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>saved_GPRs=ET_GetSavedGPRs(info-&gt;exception_record-&gt;et_field);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>GPR_save_area=(long<sp/>*)FPR_save_area;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if(saved_FPRs&amp;1)<sp/>GPR_save_area-=2;<sp/><sp/>//<sp/>8-byte<sp/>gap<sp/>if<sp/>#<sp/>saved<sp/>FPRs<sp/>is<sp/>odd</highlight></codeline>
<codeline><highlight class="normal">#else</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>find<sp/>saved<sp/>GPRs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>saved_GPRs=ET_GetSavedGPRs(info-&gt;exception_record-&gt;et_field);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>GPR_save_area=(long<sp/>*)SP;</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>return<sp/>saved<sp/>R31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>return(GPR_save_area[-1]);<sp/><sp/>//<sp/><sp/>R31<sp/>is<sp/>last<sp/>register<sp/>saved,<sp/>has<sp/>highest<sp/>address</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Return<sp/>current<sp/>exception<sp/>action<sp/>type<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>ActionIterator<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>action<sp/>type<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">static<sp/>exaction_type<sp/>ExPPC_CurrentAction(const<sp/>ActionIterator<sp/>*iter)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if(iter-&gt;info.action_pointer==0)<sp/>return<sp/>EXACTION_ENDOFLIST;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>((ex_destroylocal<sp/>*)iter-&gt;info.action_pointer)-&gt;action&amp;EXACTION_MASK;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Move<sp/>to<sp/>next<sp/>action<sp/>in<sp/>Exception<sp/>Table<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>ActionIterator<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>next<sp/>action<sp/>type<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">static<sp/>exaction_type<sp/>ExPPC_NextAction(ActionIterator<sp/>*iter)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>exaction_type<sp/><sp/><sp/>action;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>for(;;)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(<sp/>iter-&gt;info.action_pointer==0</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>||<sp/><sp/>((action=((ex_destroylocal<sp/>*)iter-&gt;info.action_pointer)-&gt;action)&amp;EXACTION_ENDBIT)!=0<sp/>)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/>//<sp/><sp/>end<sp/>of<sp/>action<sp/>list:<sp/>find<sp/>next<sp/>exception<sp/>record</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>char<sp/>*return_addr,<sp/>*callers_SP;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>get<sp/>LR<sp/>saved<sp/>in<sp/>linkage<sp/>area<sp/>of<sp/>caller</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>callers_SP=*(char<sp/>**)iter-&gt;current_SP;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(ET_GetSavedGPRs(iter-&gt;info.exception_record-&gt;et_field))<sp/>iter-&gt;current_R31=ExPPC_PopR31(callers_SP,&amp;iter-&gt;info);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return_addr=*(char<sp/>**)(callers_SP+RETURN_ADDRESS);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_FindExceptionRecord(return_addr,&amp;iter-&gt;info);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(iter-&gt;info.exception_record==0)<sp/>terminate();<sp/>//<sp/><sp/>cannot<sp/>find<sp/>matching<sp/>exception<sp/>record</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>pop<sp/>down<sp/>to<sp/>caller&apos;s<sp/>stack<sp/>frame</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;current_SP=callers_SP;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;current_FP=(ET_GetHasFramePtr(iter-&gt;info.exception_record-&gt;et_field))?(char<sp/>*)iter-&gt;current_R31:iter-&gt;current_SP;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(iter-&gt;info.action_pointer==0)<sp/>continue;<sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>no<sp/>actions</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>switch(action)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCAL:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer+=sizeof(ex_destroylocal);<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCALCOND:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer+=sizeof(ex_destroylocalcond);<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCALPOINTER:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer+=sizeof(ex_destroylocalpointer);<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCALARRAY:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer+=sizeof(ex_destroylocalarray);<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYBASE:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYMEMBER:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer+=sizeof(ex_destroymember);<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYMEMBERCOND:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer+=sizeof(ex_destroymembercond);<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYMEMBERARRAY:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer+=sizeof(ex_destroymemberarray);<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DELETEPOINTER:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer+=sizeof(ex_deletepointer);<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DELETEPOINTERCOND:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer+=sizeof(ex_deletepointercond);<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_CATCHBLOCK:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer+=sizeof(ex_catchblock);<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_CATCHBLOCK_32:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer+=sizeof(ex_catchblock_32);<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_ACTIVECATCHBLOCK:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer+=sizeof(ex_activecatchblock);<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_SPECIFICATION:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer+=sizeof(ex_specification)+((ex_specification<sp/>*)iter-&gt;info.action_pointer)-&gt;specs*sizeof(void<sp/>*);<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>default:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>terminate();<sp/><sp/><sp/><sp/>//<sp/><sp/>error</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>action=((ex_destroylocal<sp/>*)iter-&gt;info.action_pointer)-&gt;action&amp;EXACTION_MASK;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(action==EXACTION_BRANCH)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/>//<sp/><sp/>skip<sp/>to<sp/>target<sp/>action--we<sp/>never<sp/>return<sp/>EXACTION_BRANCH<sp/>to<sp/>caller!</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter-&gt;info.action_pointer=((char<sp/>*)iter-&gt;info.exception_record)+((ex_branch<sp/>*)iter-&gt;info.action_pointer)-&gt;target;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>action=((ex_destroylocal<sp/>*)iter-&gt;info.action_pointer)-&gt;action&amp;EXACTION_MASK;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>action;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Restore<sp/>registers<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>exception<sp/>record<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>pointer<sp/>to<sp/>return<sp/>PC<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">static<sp/>char<sp/>*ExPPC_PopStackFrame(ThrowContext<sp/>*context,MWExceptionInfo<sp/>*info)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char<sp/>*SP,<sp/>*callers_SP;</highlight></codeline>
<codeline><highlight class="normal">#ifndef<sp/>_No_Floating_Point_Regs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>double<sp/>*FPR_save_area;</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>long<sp/>*GPR_save_area;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>int<sp/>saved_GPRs,<sp/>saved_FPRs;</highlight></codeline>
<codeline><highlight class="normal">#if<sp/>__VEC__</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>MWEVector128<sp/>*VR_save_area;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>int<sp/>saved_VRs;</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>int<sp/>i,<sp/>j;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>obtain<sp/>current<sp/>and<sp/>callers<sp/>frame<sp/>pointers</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>SP=context-&gt;SP;<sp/>callers_SP=*(char<sp/>**)SP;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>restore<sp/>saved<sp/>FPRs</highlight></codeline>
<codeline><highlight class="normal">#ifndef<sp/>_No_Floating_Point_Regs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>saved_FPRs=ET_GetSavedFPRs(info-&gt;exception_record-&gt;et_field);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>FPR_save_area=(double<sp/>*)(callers_SP-saved_FPRs*8);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>for(i=32-saved_FPRs,<sp/>j=0;i&lt;32;++i,++j)<sp/>context-&gt;FPR[i]=FPR_save_area[j];</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>restore<sp/>saved<sp/>GPRs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>saved_GPRs=ET_GetSavedGPRs(info-&gt;exception_record-&gt;et_field);</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>GPR_save_area=(long<sp/>*)(((long)FPR_save_area&amp;0xFFFFFFF0)-saved_GPRs*4);</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/>for(i=32-saved_GPRs,<sp/>j=0;i&lt;32;++i,++j)<sp/>context-&gt;GPR[i]=GPR_save_area[j];</highlight></codeline>
<codeline><highlight class="normal">#ifndef<sp/>_No_Floating_Point_Regs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>GPR_save_area=(long<sp/>*)FPR_save_area;</highlight></codeline>
<codeline><highlight class="normal">#if<sp/>!__PPC_EABI__</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if(saved_FPRs&amp;1)<sp/>GPR_save_area-=2;<sp/><sp/>//<sp/>8-byte<sp/>gap<sp/>if<sp/>#<sp/>saved<sp/>FPRs<sp/>is<sp/>odd</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>GPR_save_area-=saved_GPRs;</highlight></codeline>
<codeline><highlight class="normal">#else</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>GPR_save_area<sp/>=<sp/>(long<sp/>*)(callers_SP-saved_GPRs*4);</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>for(i=32-saved_GPRs,<sp/>j=0;i&lt;32;++i,++j)<sp/>context-&gt;GPR[i]=GPR_save_area[j];</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#if<sp/>__VEC__</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>restore<sp/>saved<sp/>VRs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(<sp/>ET_HasVectorInfo(info-&gt;exception_record-&gt;et_field)<sp/>)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExceptionTableSmallVector<sp/>*etsv<sp/>=<sp/>(ExceptionTableSmallVector<sp/>*)<sp/>info-&gt;exception_record;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int<sp/>vrsavesize<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ET_GetSavedVRSAVE(etsv-&gt;et_field)<sp/>?<sp/>sizeof(long)<sp/>:<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>saved_VRs<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ET_GetSavedVRs(etsv-&gt;et_field);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>VR_save_area<sp/><sp/><sp/><sp/>=<sp/><sp/><sp/>(MWEVector128<sp/>*)<sp/>GPR_save_area;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>VR_save_area<sp/><sp/><sp/><sp/>-=<sp/><sp/>vrsavesize;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>VR_save_area<sp/><sp/><sp/><sp/>-=<sp/><sp/>saved_VRs;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>VR_save_area<sp/><sp/><sp/><sp/>=<sp/><sp/>(MWEVector128<sp/>*)<sp/>(<sp/>(unsigned<sp/>int)<sp/>VR_save_area<sp/>&amp;<sp/>0xFFFFFFF0<sp/>);<sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>align<sp/>to<sp/>16-byte<sp/>boundary</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for(i=32-saved_VRs,<sp/>j=0;i&lt;32;++i,++j)<sp/>context-&gt;VR[i]=VR_save_area[j];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>restore<sp/>saved<sp/>CR</highlight></codeline>
<codeline><highlight class="normal">#if<sp/>!__PPC_EABI__<sp/>//<sp/>ignore<sp/>for<sp/>now<sp/>(never<sp/>saved)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if(ET_GetSavedCR(info-&gt;exception_record-&gt;et_field))<sp/>context-&gt;CR=*(long<sp/>*)(callers_SP+4);</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>restore<sp/>saved<sp/>SP<sp/>(back<sp/>link)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>context-&gt;SP=callers_SP;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>return<sp/>new<sp/>return_addr</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>return(*(char<sp/>**)(callers_SP+RETURN_ADDRESS));</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Unwind<sp/>ex_destroylocal<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>MWExceptionInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>ex_destroylocal<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">INLINE<sp/>void<sp/>ExPPC_DestroyLocal(ThrowContext<sp/>*context,const<sp/>ex_destroylocal<sp/>*ex)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>DTORCALL_COMPLETE(ex-&gt;dtor,context-&gt;FP+ex-&gt;local);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Unwind<sp/>ex_destroylocalcond<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>MWExceptionInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>ex_destroylocalcond<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">INLINE<sp/>void<sp/>ExPPC_DestroyLocalCond(ThrowContext<sp/>*context,const<sp/>ex_destroylocalcond<sp/>*ex)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>int<sp/>cond<sp/>=<sp/>ex_destroylocalcond_GetRegCond(ex-&gt;dlc_field)<sp/><sp/><sp/><sp/>?<sp/>(local_cond_type)<sp/>context-&gt;GPR[ex-&gt;cond]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>*(local_cond_type<sp/>*)(context-&gt;FP+ex-&gt;cond);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if(cond)<sp/>DTORCALL_COMPLETE(ex-&gt;dtor,context-&gt;FP+ex-&gt;local);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Unwind<sp/>ex_destroylocalpointer<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>MWExceptionInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>ex_destroylocalpointer<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">INLINE<sp/>void<sp/>ExPPC_DestroyLocalPointer(ThrowContext<sp/>*context,const<sp/>ex_destroylocalpointer<sp/>*ex)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>void<sp/>*pointer<sp/>=<sp/>ex_destroylocalpointer_GetRegPointer(ex-&gt;dlp_field)<sp/>?<sp/>(void<sp/>*)<sp/>context-&gt;GPR[ex-&gt;pointer]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>*(void<sp/>**)(context-&gt;FP+ex-&gt;pointer);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>DTORCALL_COMPLETE(ex-&gt;dtor,pointer);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Unwind<sp/>ex_destroylocalarray<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>MWExceptionInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>ex_destroylocalarray<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">INLINE<sp/>void<sp/>ExPPC_DestroyLocalArray(ThrowContext<sp/>*context,const<sp/>ex_destroylocalarray<sp/>*ex)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char<sp/>*ptr<sp/><sp/><sp/>=<sp/>context-&gt;FP+ex-&gt;localarray;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>long<sp/>n<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ex-&gt;elements;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>long<sp/>size<sp/><sp/><sp/>=<sp/>ex-&gt;element_size;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>for(ptr=ptr+size*n;<sp/>n&gt;0;<sp/>n--)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-=size;<sp/>DTORCALL_COMPLETE(ex-&gt;dtor,ptr);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Unwind<sp/>ex_destroymember<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>MWExceptionInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>ex_destroymember<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">INLINE<sp/>void<sp/>ExPPC_DestroyMember(ThrowContext<sp/>*context,const<sp/>ex_destroymember<sp/>*ex)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char<sp/>*objectptr<sp/>=<sp/>ex_destroymember_GetRegPointer(ex-&gt;dm_field)<sp/><sp/>?<sp/>(char<sp/>*)<sp/>context-&gt;GPR[ex-&gt;objectptr]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>*(char<sp/>**)(context-&gt;FP+ex-&gt;objectptr);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>DTORCALL_COMPLETE(ex-&gt;dtor,objectptr+ex-&gt;offset);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Unwind<sp/>ex_destroymember<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>MWExceptionInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>ex_destroymember<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">INLINE<sp/>void<sp/>ExPPC_DestroyBase(ThrowContext<sp/>*context,const<sp/>ex_destroymember<sp/>*ex)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char<sp/>*objectptr<sp/>=<sp/>ex_destroymember_GetRegPointer(ex-&gt;dm_field)<sp/><sp/>?<sp/>(char<sp/>*)<sp/>context-&gt;GPR[ex-&gt;objectptr]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>*(char<sp/>**)(context-&gt;FP+ex-&gt;objectptr);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>DTORCALL_PARTIAL(ex-&gt;dtor,objectptr+ex-&gt;offset);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Unwind<sp/>ex_destroymembercond<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>MWExceptionInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>ex_destroymembercond<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">INLINE<sp/>void<sp/>ExPPC_DestroyMemberCond(ThrowContext<sp/>*context,const<sp/>ex_destroymembercond<sp/>*ex)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char<sp/>*objectptr<sp/>=<sp/>ex_destroymembercond_GetRegPointer(ex-&gt;dmc_field)<sp/>?<sp/>(char<sp/>*)<sp/>context-&gt;GPR[ex-&gt;objectptr]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>*(char<sp/>**)(context-&gt;FP+ex-&gt;objectptr);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>int<sp/>cond<sp/>=<sp/>ex_destroymembercond_GetRegCond(ex-&gt;dmc_field)<sp/><sp/><sp/>?<sp/>(vbase_ctor_arg_type)<sp/>context-&gt;GPR[ex-&gt;cond]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>*(vbase_ctor_arg_type<sp/>*)(context-&gt;FP+ex-&gt;cond);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if(cond)<sp/>DTORCALL_PARTIAL(ex-&gt;dtor,objectptr+ex-&gt;offset);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Unwind<sp/>ex_destroymemberarray<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>MWExceptionInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>ex_destroymemberarray<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">INLINE<sp/>void<sp/>ExPPC_DestroyMemberArray(ThrowContext<sp/>*context,const<sp/>ex_destroymemberarray<sp/>*ex)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char<sp/>*ptr<sp/><sp/><sp/>=<sp/>ex_destroymemberarray_GetRegPointer(ex-&gt;dma_field)<sp/><sp/><sp/><sp/>?<sp/>(char<sp/>*)<sp/>context-&gt;GPR[ex-&gt;objectptr]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>*(char<sp/>**)(context-&gt;FP+ex-&gt;objectptr);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>long<sp/>n<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ex-&gt;elements;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>long<sp/>size<sp/><sp/><sp/>=<sp/>ex-&gt;element_size;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/>msw<sp/>11/28/97<sp/>-<sp/><sp/><sp/>Bug<sp/>fix.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ptr<sp/>+=<sp/>ex-&gt;offset;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>for(ptr=ptr+size*n;<sp/>n&gt;0;<sp/>n--)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-=size;<sp/>DTORCALL_COMPLETE(ex-&gt;dtor,ptr);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Unwind<sp/>ex_deletepointer<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>MWExceptionInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>ex_deletepointer<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">INLINE<sp/>void<sp/>ExPPC_DeletePointer(ThrowContext<sp/>*context,const<sp/>ex_deletepointer<sp/>*ex)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char<sp/>*objectptr<sp/>=<sp/>ex_deletepointer_GetRegPointer(ex-&gt;dp_field)<sp/><sp/>?<sp/>(char<sp/>*)<sp/>context-&gt;GPR[ex-&gt;objectptr]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>*(char<sp/>**)(context-&gt;FP+ex-&gt;objectptr);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>((DeleteFunc)<sp/>ex-&gt;deletefunc)(objectptr);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Unwind<sp/>ex_deletepointercond<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>MWExceptionInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>ex_deletepointercond<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">INLINE<sp/>void<sp/>ExPPC_DeletePointerCond(ThrowContext<sp/>*context,const<sp/>ex_deletepointercond<sp/>*ex)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>char<sp/>*objectptr<sp/>=<sp/>ex_deletepointercond_GetRegPointer(ex-&gt;dpc_field)<sp/>?<sp/>(char<sp/>*)<sp/>context-&gt;GPR[ex-&gt;objectptr]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>*(char<sp/>**)(context-&gt;FP+ex-&gt;objectptr);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>int<sp/>cond<sp/>=<sp/>ex_deletepointercond_GetRegCond(ex-&gt;dpc_field)<sp/><sp/><sp/>?<sp/>(local_cond_type)<sp/>context-&gt;GPR[ex-&gt;cond]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>*(local_cond_type<sp/>*)(context-&gt;FP+ex-&gt;cond);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if(cond)<sp/>((DeleteFunc)<sp/>ex-&gt;deletefunc)(objectptr);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Unwind<sp/>stack<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>MWExceptionInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>action<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>catcher<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">static<sp/>void<sp/>ExPPC_UnwindStack(ThrowContext<sp/>*context,MWExceptionInfo<sp/>*info,void<sp/>*catcher)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>exaction_type<sp/><sp/><sp/>action;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#pragma<sp/>exception_terminate<sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>this<sp/>will<sp/>prevent<sp/>exception<sp/>exits<sp/>during<sp/>unwindind</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>for(;;)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(info-&gt;action_pointer==0)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>char<sp/>*return_addr;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return_addr=ExPPC_PopStackFrame(context,info);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_FindExceptionRecord(return_addr,info);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(info-&gt;exception_record==0)<sp/>terminate();<sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>cannot<sp/>find<sp/>matching<sp/>exception<sp/>record</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context-&gt;FP=(ET_GetHasFramePtr(info-&gt;exception_record-&gt;et_field))?(char<sp/>*)context-&gt;GPR[31]:context-&gt;SP;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>action=((ex_destroylocal<sp/>*)info-&gt;action_pointer)-&gt;action;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>switch(action&amp;EXACTION_MASK)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_BRANCH:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer=((char<sp/>*)info-&gt;exception_record)+((ex_branch<sp/>*)info-&gt;action_pointer)-&gt;target;<sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCAL:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_DestroyLocal(context,(ex_destroylocal<sp/>*)info-&gt;action_pointer);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_destroylocal);<sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCALCOND:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_DestroyLocalCond(context,(ex_destroylocalcond<sp/>*)info-&gt;action_pointer);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_destroylocalcond);<sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCALPOINTER:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_DestroyLocalPointer(context,(ex_destroylocalpointer<sp/>*)info-&gt;action_pointer);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_destroylocalpointer);<sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCALARRAY:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_DestroyLocalArray(context,(ex_destroylocalarray<sp/>*)info-&gt;action_pointer);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_destroylocalarray);<sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYBASE:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_DestroyBase(context,(ex_destroymember<sp/>*)info-&gt;action_pointer);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_destroymember);<sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYMEMBER:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_DestroyMember(context,(ex_destroymember<sp/>*)info-&gt;action_pointer);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_destroymember);<sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYMEMBERCOND:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_DestroyMemberCond(context,(ex_destroymembercond<sp/>*)info-&gt;action_pointer);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_destroymembercond);<sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYMEMBERARRAY:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_DestroyMemberArray(context,(ex_destroymemberarray<sp/>*)info-&gt;action_pointer);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_destroymemberarray);<sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DELETEPOINTER:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_DeletePointer(context,(ex_deletepointer<sp/>*)info-&gt;action_pointer);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_deletepointer);<sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DELETEPOINTERCOND:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_DeletePointerCond(context,(ex_deletepointercond<sp/>*)info-&gt;action_pointer);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_deletepointercond);<sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_CATCHBLOCK:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(catcher==(void<sp/>*)info-&gt;action_pointer)<sp/>return;<sp/><sp/><sp/>//<sp/><sp/>finished<sp/>unwinding</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_catchblock);<sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_CATCHBLOCK_32:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(catcher==(void<sp/>*)info-&gt;action_pointer)<sp/>return;<sp/><sp/><sp/>//<sp/><sp/>finished<sp/>unwinding</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_catchblock_32);<sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_ACTIVECATCHBLOCK:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CatchInfo<sp/><sp/><sp/><sp/><sp/><sp/><sp/>*catchinfo;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo=(CatchInfo<sp/>*)(context-&gt;FP+((ex_activecatchblock<sp/>*)info-&gt;action_pointer)-&gt;cinfo_ref);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(<sp/>catchinfo-&gt;dtor<sp/>)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>re-throwing<sp/>exception<sp/>from<sp/>this<sp/>block</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(<sp/>context-&gt;location<sp/>==<sp/>catchinfo-&gt;location<sp/>)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>pass<sp/>destruction<sp/>responsibility<sp/>to<sp/>re-thrown<sp/>exception</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context-&gt;dtor<sp/>=<sp/>catchinfo-&gt;dtor;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DTORCALL_COMPLETE(catchinfo-&gt;dtor,catchinfo-&gt;location);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_activecatchblock);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_SPECIFICATION:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(catcher==(void<sp/>*)info-&gt;action_pointer)<sp/>return;<sp/><sp/><sp/>//<sp/><sp/>finished<sp/>unwinding</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;action_pointer+=sizeof(ex_specification)+((ex_specification<sp/>*)info-&gt;action_pointer)-&gt;specs*sizeof(void<sp/>*);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>default:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>terminate();<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>error</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(action&amp;EXACTION_ENDBIT)<sp/>info-&gt;action_pointer=0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Check<sp/>if<sp/>an<sp/>exception<sp/>is<sp/>in<sp/>a<sp/>specification<sp/>list<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>exception<sp/>type<sp/>string<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>specification<sp/>list<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">static<sp/>int<sp/>ExPPC_IsInSpecification(char<sp/>*extype,ex_specification<sp/>*spec)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>long<sp/><sp/><sp/><sp/>i,offset;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>for(i=0;<sp/>i&lt;spec-&gt;specs;<sp/>i++)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(__throw_catch_compare(extype,spec-&gt;spec[i],&amp;offset))<sp/>return<sp/>1;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>0;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Unexpected<sp/>handler<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/>(this<sp/>function<sp/>will<sp/>never<sp/>return)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">extern<sp/>void<sp/>__unexpected(CatchInfo*<sp/>catchinfo)</highlight></codeline>
<codeline><highlight class="normal">{<sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ex_specification<sp/>*unexp=(ex_specification<sp/>*)catchinfo-&gt;stacktop;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#pragma<sp/>exception_magic</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>try<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>unexpected();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>catch(...)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/>//<sp/><sp/>unexpected<sp/>throws<sp/>an<sp/>exception<sp/>=&gt;<sp/>check<sp/>if<sp/>the<sp/>exception<sp/>matches<sp/>the<sp/>specification</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(ExPPC_IsInSpecification((char<sp/>*)((CatchInfo<sp/>*)&amp;__exception_magic)-&gt;typeinfo,unexp))</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/>//<sp/><sp/>new<sp/>exception<sp/>is<sp/>in<sp/>specification<sp/>list<sp/>=&gt;<sp/>rethrow</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>throw;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(ExPPC_IsInSpecification(&quot;!bad_exception!!&quot;,unexp))</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/>//<sp/><sp/>&quot;bad_exception&quot;<sp/>is<sp/>in<sp/>specification<sp/>list<sp/>=&gt;<sp/>throw<sp/>bad_exception()</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>throw<sp/>bad_exception();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(ExPPC_IsInSpecification(&quot;!std::bad_exception!!&quot;,unexp))</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/>//<sp/><sp/>&quot;bad_exception&quot;<sp/>is<sp/>in<sp/>specification<sp/>list<sp/>=&gt;<sp/>throw<sp/>bad_exception()</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>throw<sp/>bad_exception();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>cannot<sp/>handle<sp/>exception<sp/>=&gt;<sp/>terminate();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>terminate();</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Restore<sp/>registers<sp/>and<sp/>branch<sp/>to<sp/>catcher<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>destination<sp/>RTOC<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>destination<sp/>PC<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">static<sp/>asm<sp/>void<sp/>ExPPC_LongJump(register<sp/>ThrowContext<sp/>*context,<sp/>register<sp/>void<sp/>*newRTOC,<sp/>register<sp/>void<sp/>*newPC)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal">#if<sp/>__ALTIVEC__<sp/>||<sp/>__PPC_EABI__</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nofralloc</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r8,newPC<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RTOC,newRTOC<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>restore<sp/>RTOC</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r0,context-&gt;CR<sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>restore<sp/>CR</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mtcrf<sp/><sp/><sp/><sp/><sp/><sp/><sp/>255,r0</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#if<sp/>__VEC__</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r5,context-&gt;vrsave<sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bl<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__setLR<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>set<sp/>LR<sp/>to<sp/>address<sp/>of<sp/>setLR<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal">__setLR:<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oris<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r5,r5,0x8000<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>indicate<sp/>vr0<sp/>also<sp/>in-use</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mtvrsave<sp/><sp/><sp/><sp/>r5</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clrlwi<sp/><sp/><sp/><sp/><sp/><sp/>r5,r5,20<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>clear<sp/>left<sp/>20<sp/>bits</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cntlzw<sp/><sp/><sp/><sp/><sp/><sp/>r5,r5<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>find<sp/>first<sp/>nonvolatile<sp/>VR<sp/>used</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>slwi<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r5,r5,3<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>multiply<sp/>by<sp/>8<sp/>for<sp/>index<sp/>past<sp/>__longjmpv20</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mflr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r6</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>addi<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r6,r6,__longjmpv20<sp/>-<sp/>__setLR<sp/>-<sp/>(20<sp/>*<sp/>8)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>add<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r6,r6,r5</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mtlr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r6</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>jump<sp/>to<sp/>index<sp/>past<sp/>__longjmpv20</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal">__longjmpv20:<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,context-&gt;VR[20]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr20,r0,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,context-&gt;VR[21]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr21,r0,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,context-&gt;VR[22]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr22,r0,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,context-&gt;VR[23]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr23,r0,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,context-&gt;VR[24]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr24,r0,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,context-&gt;VR[25]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr25,r0,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,context-&gt;VR[26]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr26,r0,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,context-&gt;VR[27]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr27,r0,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,context-&gt;VR[28]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr28,r0,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,context-&gt;VR[29]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr29,r0,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,context-&gt;VR[30]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr30,r0,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,context-&gt;VR[31]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr31,r0,r31</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>restore<sp/>R13-R31</highlight></codeline>
<codeline><highlight class="normal">#if<sp/>__PPC_EABI__</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>#if<sp/>!__option(use_lmw_stmw)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r14,context-&gt;GPR[14]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r15,context-&gt;GPR[15]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r16,context-&gt;GPR[16]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r17,context-&gt;GPR[17]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r18,context-&gt;GPR[18]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r19,context-&gt;GPR[19]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r20,context-&gt;GPR[20]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r21,context-&gt;GPR[21]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r22,context-&gt;GPR[22]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r23,context-&gt;GPR[23]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r24,context-&gt;GPR[24]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r25,context-&gt;GPR[25]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r26,context-&gt;GPR[26]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r27,context-&gt;GPR[27]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r28,context-&gt;GPR[28]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r29,context-&gt;GPR[29]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r30,context-&gt;GPR[30]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,context-&gt;GPR[31]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>#else</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lmw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r13,context-&gt;GPR[13]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>#endif</highlight></codeline>
<codeline><highlight class="normal">#else</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lmw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r13,context-&gt;GPR[13]</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#ifndef<sp/>_No_Floating_Point_Regs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>restore<sp/>FP14-FP31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp14,context-&gt;FPR[14]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp15,context-&gt;FPR[15]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp16,context-&gt;FPR[16]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp17,context-&gt;FPR[17]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp18,context-&gt;FPR[18]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp19,context-&gt;FPR[19]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp20,context-&gt;FPR[20]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp21,context-&gt;FPR[21]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp22,context-&gt;FPR[22]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp23,context-&gt;FPR[23]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp24,context-&gt;FPR[24]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp25,context-&gt;FPR[25]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp26,context-&gt;FPR[26]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp27,context-&gt;FPR[27]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp28,context-&gt;FPR[28]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp29,context-&gt;FPR[29]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp30,context-&gt;FPR[30]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp31,context-&gt;FPR[31]</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mtlr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r8<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>restore<sp/>PC<sp/>(LR)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#if<sp/>__VEC__</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r5,context-&gt;vscr</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lvewx<sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr0,r0,r5<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>load<sp/>32<sp/>bits<sp/>into<sp/>lo<sp/>32<sp/>bits<sp/>of<sp/>v0</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mtvscr<sp/><sp/><sp/><sp/><sp/><sp/>vr0</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r5,context-&gt;vrsave<sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>restore<sp/>vrsave,<sp/>remove<sp/>usage<sp/>of<sp/>bit<sp/>0</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mtvrsave<sp/><sp/><sp/><sp/>r5</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>restore<sp/>SP<sp/>to<sp/>stack<sp/>top<sp/>at<sp/>throw:<sp/>discards<sp/>exception-handling<sp/>frames</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>but<sp/>not<sp/>exception<sp/>temporaries</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SP,context-&gt;throwSP</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>move<sp/>stack<sp/>frame<sp/>back-link<sp/>from<sp/>catcher&apos;s<sp/>linkage<sp/>area<sp/>to<sp/>new<sp/>top<sp/>of</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>stack;<sp/>this<sp/>effectively<sp/>pops<sp/>all<sp/>intermediate<sp/>frames.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,context-&gt;SP</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,0(r3)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,0(SP)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>jump<sp/>to<sp/>exception<sp/>handler</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blr</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Handle<sp/>unexpected<sp/>exception<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>topmost<sp/>MWExceptionInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>specification<sp/>record<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">static<sp/>void<sp/>ExPPC_HandleUnexpected(ThrowContext<sp/>*context,MWExceptionInfo<sp/>*info,ex_specification<sp/>*unexp)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>CatchInfo<sp/><sp/><sp/>*catchinfo;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#pragma<sp/>exception_terminate<sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>this<sp/>will<sp/>prevent<sp/>exception<sp/>exits<sp/>during<sp/>unwinding</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ExPPC_UnwindStack(context,info,unexp);<sp/><sp/>//<sp/><sp/>unwind<sp/>stack<sp/>to<sp/>failing<sp/>specification</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>initialize<sp/>catch<sp/>info<sp/>struct</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>catchinfo=(CatchInfo<sp/>*)(context-&gt;FP+unexp-&gt;cinfo_ref);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>catchinfo-&gt;location<sp/><sp/><sp/><sp/><sp/>=<sp/>context-&gt;location;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>catchinfo-&gt;typeinfo<sp/><sp/><sp/><sp/><sp/>=<sp/>context-&gt;throwtype;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>catchinfo-&gt;dtor<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>context-&gt;dtor;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>catchinfo-&gt;stacktop<sp/><sp/><sp/><sp/><sp/>=<sp/>unexp;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>the<sp/>__unexpected<sp/>will<sp/>never<sp/>call<sp/>__end_catch</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>so<sp/>we<sp/>can<sp/>resue<sp/>this<sp/>field</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>jump<sp/>to<sp/>exception<sp/>handler</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ExPPC_LongJump(context,info-&gt;TOC,info-&gt;current_function+unexp-&gt;pcoffset);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Throw<sp/>(rethrow)<sp/>current<sp/>exception<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>context<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">static<sp/>void<sp/>ExPPC_ThrowHandler(ThrowContext<sp/>*context)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ActionIterator<sp/><sp/>iter;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>MWExceptionInfo<sp/>info;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>exaction_type<sp/><sp/><sp/>action;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>CatchInfo<sp/><sp/><sp/><sp/><sp/><sp/><sp/>*catchinfo;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>long<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offset;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>find<sp/>first<sp/>ExceptionRecord</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ExPPC_FindExceptionRecord(context-&gt;returnaddr,<sp/>&amp;info);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if(info.exception_record==0)<sp/>terminate();<sp/><sp/><sp/>//<sp/><sp/>cannot<sp/>find<sp/>matching<sp/>exception<sp/>record</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>context-&gt;FP=(ET_GetHasFramePtr(info.exception_record-&gt;et_field))?(char<sp/>*)context-&gt;GPR[31]:context-&gt;SP;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if(context-&gt;throwtype==0)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/>//<sp/><sp/>rethrow,<sp/>find<sp/>most<sp/>recent<sp/>exception</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter.info<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>info;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter.current_SP<sp/>=<sp/>context-&gt;SP;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter.current_FP<sp/>=<sp/>context-&gt;FP;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iter.current_R31<sp/>=<sp/>context-&gt;GPR[31];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for(action=ExPPC_CurrentAction(&amp;iter);;<sp/>action=ExPPC_NextAction(&amp;iter))</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>switch(action)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_ACTIVECATCHBLOCK:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_ENDOFLIST:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCAL:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCALCOND:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCALPOINTER:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCALARRAY:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYBASE:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYMEMBER:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYMEMBERCOND:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYMEMBERARRAY:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DELETEPOINTER:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DELETEPOINTERCOND:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_CATCHBLOCK:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_CATCHBLOCK_32:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_SPECIFICATION:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_TERMINATE:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>default:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>terminate();<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>cannot<sp/>find<sp/>find<sp/>most<sp/>recent<sp/>exception</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo=(CatchInfo<sp/>*)(iter.current_FP+((ex_activecatchblock<sp/>*)iter.info.action_pointer)-&gt;cinfo_ref);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context-&gt;throwtype<sp/><sp/>=<sp/>(char<sp/>*)catchinfo-&gt;typeinfo;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context-&gt;location<sp/><sp/><sp/>=<sp/>catchinfo-&gt;location;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context-&gt;dtor<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>original<sp/>active<sp/>catch<sp/>block<sp/>is<sp/>still<sp/>responsible<sp/>for<sp/>destruction</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context-&gt;catchinfo<sp/><sp/>=<sp/>catchinfo;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>else<sp/>context-&gt;catchinfo=0L;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>find<sp/>matching<sp/>exception<sp/>handler</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>iter.info<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>info;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>iter.current_SP<sp/>=<sp/>context-&gt;SP;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>iter.current_FP<sp/>=<sp/>context-&gt;FP;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>iter.current_R31<sp/>=<sp/>context-&gt;GPR[31];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>for(action=ExPPC_CurrentAction(&amp;iter);;<sp/>action=ExPPC_NextAction(&amp;iter))</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>switch(action)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_CATCHBLOCK_32:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(__throw_catch_compare(context-&gt;throwtype,((ex_catchblock_32<sp/>*)iter.info.action_pointer)-&gt;catch_type,&amp;offset))</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_CATCHBLOCK:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(__throw_catch_compare(context-&gt;throwtype,((ex_catchblock<sp/>*)iter.info.action_pointer)-&gt;catch_type,&amp;offset))</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_SPECIFICATION:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(!ExPPC_IsInSpecification(context-&gt;throwtype,(ex_specification<sp/>*)iter.info.action_pointer))</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/>//<sp/><sp/>unexpected<sp/>specification</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_HandleUnexpected(context,&amp;info,(ex_specification<sp/>*)iter.info.action_pointer);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>we<sp/>will<sp/>never<sp/>return<sp/>from<sp/>this<sp/>function<sp/>call</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_ENDOFLIST:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCAL:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCALCOND:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCALPOINTER:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYLOCALARRAY:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYBASE:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYMEMBER:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYMEMBERCOND:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DESTROYMEMBERARRAY:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DELETEPOINTER:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_DELETEPOINTERCOND:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_ACTIVECATCHBLOCK:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>EXACTION_TERMINATE:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>default:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>terminate();<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>cannot<sp/>find<sp/>matching<sp/>catch<sp/>block</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>we<sp/>have<sp/>found<sp/>a<sp/>matching<sp/>catch<sp/>block</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(action<sp/>==<sp/>EXACTION_CATCHBLOCK_32)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ex_catchblock_32<sp/><sp/><sp/><sp/>*catchblock_32;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchblock_32=(ex_catchblock_32<sp/>*)iter.info.action_pointer;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_UnwindStack(context,&amp;info,catchblock_32);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>initialize<sp/>catch<sp/>info<sp/>struct</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo=(CatchInfo<sp/>*)(context-&gt;FP+catchblock_32-&gt;cinfo_ref);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo-&gt;location<sp/><sp/><sp/><sp/><sp/>=<sp/>context-&gt;location;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo-&gt;typeinfo<sp/><sp/><sp/><sp/><sp/>=<sp/>context-&gt;throwtype;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo-&gt;dtor<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>context-&gt;dtor;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(*context-&gt;throwtype==&apos;*&apos;)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>pointer<sp/>match<sp/>(create<sp/>a<sp/>pointer<sp/>copy<sp/>with<sp/>adjusted<sp/>offset)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo-&gt;sublocation<sp/><sp/>=<sp/>&amp;catchinfo-&gt;pointercopy;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo-&gt;pointercopy<sp/><sp/>=<sp/>*(long<sp/>*)context-&gt;location+offset;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/>//<sp/><sp/>traditional<sp/>or<sp/>class<sp/>match<sp/>(directly<sp/>adjust<sp/>offset)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo-&gt;sublocation<sp/><sp/>=<sp/>(char<sp/>*)context-&gt;location+offset;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>remember<sp/>eventual<sp/>stacktop<sp/>(restored<sp/>from<sp/>catchinfo<sp/>at<sp/>end<sp/>of<sp/>catch<sp/>block)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>catchinfo-&gt;stacktop<sp/>=<sp/>context-&gt;SP;<sp/><sp/>//<sp/><sp/>saved<sp/>at<sp/>try<sp/>{<sp/>...<sp/>}<sp/>instead</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>jump<sp/>to<sp/>exception<sp/>handler</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_LongJump(context,info.TOC,info.current_function+catchblock_32-&gt;catch_pcoffset);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/>else<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ex_catchblock<sp/><sp/><sp/>*catchblock;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchblock=(ex_catchblock<sp/>*)iter.info.action_pointer;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_UnwindStack(context,&amp;info,catchblock);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>initialize<sp/>catch<sp/>info<sp/>struct</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo=(CatchInfo<sp/>*)(context-&gt;FP+catchblock-&gt;cinfo_ref);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo-&gt;location<sp/><sp/><sp/><sp/><sp/>=<sp/>context-&gt;location;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo-&gt;typeinfo<sp/><sp/><sp/><sp/><sp/>=<sp/>context-&gt;throwtype;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo-&gt;dtor<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>context-&gt;dtor;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(*context-&gt;throwtype==&apos;*&apos;)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/>//<sp/><sp/>pointer<sp/>match<sp/>(create<sp/>a<sp/>pointer<sp/>copy<sp/>with<sp/>adjusted<sp/>offset)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo-&gt;sublocation<sp/><sp/>=<sp/>&amp;catchinfo-&gt;pointercopy;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo-&gt;pointercopy<sp/><sp/>=<sp/>*(long<sp/>*)context-&gt;location+offset;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/>//<sp/><sp/>traditional<sp/>or<sp/>class<sp/>match<sp/>(directly<sp/>adjust<sp/>offset)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catchinfo-&gt;sublocation<sp/><sp/>=<sp/>(char<sp/>*)context-&gt;location+offset;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>remember<sp/>eventual<sp/>stacktop<sp/>(restored<sp/>from<sp/>catchinfo<sp/>at<sp/>end<sp/>of<sp/>catch<sp/>block)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/><sp/>catchinfo-&gt;stacktop<sp/>=<sp/>context-&gt;SP;<sp/><sp/>//<sp/><sp/>saved<sp/>at<sp/>try<sp/>{<sp/>...<sp/>}<sp/>instead</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>jump<sp/>to<sp/>exception<sp/>handler</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_LongJump(context,info.TOC,info.current_function+catchblock-&gt;catch_pcoffset);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#if<sp/>__VEC__</highlight></codeline>
<codeline><highlight class="normal">#pragma<sp/>altivec_vrsave<sp/>off</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Throw<sp/>(rethrow)<sp/>current<sp/>exception<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>type<sp/>(0L:<sp/>rethrow)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>complete<sp/>throw<sp/>object<sp/>(0L:<sp/>rethrow)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>object<sp/>destructor<sp/>(0L:<sp/>no<sp/>destructor<sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">asm<sp/>void<sp/>__throw(char<sp/>*throwtype,<sp/>void<sp/>*location,<sp/>void<sp/>*dtor)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ThrowContext<sp/><sp/><sp/><sp/>throwcontext;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nofralloc<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>user<sp/>is<sp/>responsible<sp/>for<sp/>stack<sp/>frame</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//<sp/>PROLOGUE</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mflr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r0</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r11,r30<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>save<sp/>high<sp/>2<sp/>nonvolatiles<sp/>in<sp/>r11<sp/>and<sp/>r12</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,-4(sp)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r12,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r30,-8(sp)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r0,8(sp)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,24(sp)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r4,28(sp)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r30,sp<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>save<sp/>callerSP<sp/>in<sp/>r30</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r5,32(sp)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clrrwi<sp/><sp/><sp/><sp/><sp/><sp/>sp,sp,4<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>clear<sp/>the<sp/>right<sp/>4<sp/>bits<sp/>to<sp/>16-byte<sp/>align<sp/>new<sp/>frame</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>frame<sp/>size<sp/>calculated<sp/>by:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>sizeof(ThrowContext)<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>+<sp/>24<sp/>bytes<sp/>for<sp/>linkage<sp/>area<sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>+<sp/>8<sp/>for<sp/>16-byte<sp/>alignment</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>+<sp/>32<sp/>for<sp/>parameter<sp/>area<sp/>size</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stwu<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r30,-(sizeof(ThrowContext)<sp/>+<sp/>32<sp/>+<sp/>24<sp/>+<sp/>8)<sp/>(SP)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//<sp/>MAIN<sp/>FUNCTION<sp/>BODY</highlight></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>addi<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,sp,64<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>offset<sp/>of<sp/>throwcontext<sp/>calculated<sp/>by:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>SP<sp/>+<sp/>24<sp/>bytes<sp/>for<sp/>linkage<sp/>area<sp/>+<sp/>8<sp/>for<sp/>16-byte<sp/>alignment</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/><sp/><sp/>+<sp/>32<sp/>for<sp/>parameter<sp/>area<sp/>size</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stmw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r13,ThrowContext.GPR[13](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r11,ThrowContext.GPR[30](r31)<sp/><sp/><sp/>//<sp/>restore<sp/>register<sp/>state<sp/>as<sp/>it<sp/>was<sp/>on<sp/>entry<sp/>to<sp/>this<sp/>routine</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r12,ThrowContext.GPR[31](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mfvrsave<sp/><sp/><sp/><sp/>r5</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r5,ThrowContext.vrsave(r31)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bl<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__setLR<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>set<sp/>LR<sp/>to<sp/>address<sp/>of<sp/>setLR<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal">__setLR:<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r5,ThrowContext.vrsave(r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clrlwi<sp/><sp/><sp/><sp/><sp/><sp/>r5,r5,20<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>clear<sp/>left<sp/>20<sp/>bits</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cntlzw<sp/><sp/><sp/><sp/><sp/><sp/>r5,r5<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>find<sp/>first<sp/>nonvolatile<sp/>VR<sp/>used</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>slwi<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r5,r5,3<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>multiply<sp/>by<sp/>8<sp/>for<sp/>index<sp/>past<sp/>__setjmpv20</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mflr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r4</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>addi<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r4,r4,__setjmpv20<sp/>-<sp/>__setLR<sp/>-<sp/>(20<sp/>*<sp/>8)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>add<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r4,r4,r5</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mtlr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r4</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>jump<sp/>to<sp/>index<sp/>past<sp/>__setjmpv20</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal">__setjmpv20:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>li<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.VR[20]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr20,r3,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>li<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.VR[21]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr21,r3,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>li<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.VR[22]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr22,r3,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>li<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.VR[23]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr23,r3,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>li<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.VR[24]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr24,r3,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>li<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.VR[25]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr25,r3,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>li<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.VR[26]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr26,r3,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>li<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.VR[27]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr27,r3,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>li<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.VR[28]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr28,r3,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>li<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.VR[29]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr29,r3,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>li<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.VR[30]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr30,r3,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>li<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.VR[31]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stvx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vr31,r3,r31</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mfvrsave<sp/><sp/><sp/><sp/>r6</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oris<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r6,r6,0x8000<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>indicate<sp/>vr0<sp/>in-use</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mtvrsave<sp/><sp/><sp/><sp/>r6</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mfvscr<sp/><sp/><sp/><sp/><sp/><sp/>vr0<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>mfvscr<sp/>is<sp/>context-synchronizing,<sp/>so<sp/>this<sp/>will<sp/>take<sp/>many<sp/>cycles</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r5,ThrowContext.vscr(r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stvewx<sp/><sp/><sp/><sp/><sp/><sp/>vr0,r0,r5<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>store<sp/>32<sp/>bits<sp/>out<sp/>of<sp/>lo<sp/>32<sp/>bits<sp/>of<sp/>v0</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>li<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r5,0x0000<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>indicate<sp/>that<sp/>no<sp/>vector<sp/>registers<sp/>are<sp/>being<sp/>used<sp/>now</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mtvrsave<sp/><sp/><sp/><sp/>r5<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>This<sp/>is<sp/>OK<sp/>because<sp/>we<sp/>just<sp/>saved<sp/>the<sp/>non-volatile<sp/>set<sp/>and<sp/>exercised<sp/>our<sp/>right</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>to<sp/>trash<sp/>all<sp/>the<sp/>volatile<sp/>vector<sp/>registers</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>save<sp/>FPRs<sp/>so<sp/>we<sp/>can<sp/>restore<sp/>them<sp/>during<sp/>stack<sp/>unwind</highlight></codeline>
<codeline><highlight class="normal">#ifndef<sp/>_No_Floating_Point_Regs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp14,ThrowContext.FPR[14](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp15,ThrowContext.FPR[15](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp16,ThrowContext.FPR[16](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp17,ThrowContext.FPR[17](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp18,ThrowContext.FPR[18](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp19,ThrowContext.FPR[19](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp20,ThrowContext.FPR[20](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp21,ThrowContext.FPR[21](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp22,ThrowContext.FPR[22](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp23,ThrowContext.FPR[23](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp24,ThrowContext.FPR[24](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp25,ThrowContext.FPR[25](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp26,ThrowContext.FPR[26](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp27,ThrowContext.FPR[27](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp28,ThrowContext.FPR[28](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp29,ThrowContext.FPR[29](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp30,ThrowContext.FPR[30](r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp31,ThrowContext.FPR[31](r31)</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>save<sp/>CR<sp/>so<sp/>we<sp/>can<sp/>restore<sp/>it<sp/>during<sp/>stack<sp/>unwind</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mfcr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.CR(r31);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>tcp-&gt;SP<sp/>=<sp/>tcp-&gt;throwSP<sp/>=<sp/>&lt;stack<sp/>pointer<sp/>of<sp/>caller&gt;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>tcp-&gt;returnaddr<sp/>=<sp/>&lt;return<sp/>address<sp/>into<sp/>caller&gt;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,0(sp)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r4,8(r3)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.SP(r31);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.throwSP(r31);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r4,ThrowContext.returnaddr(r31);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>tcp-&gt;throwtype<sp/>=<sp/>throwtype;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,throwtype(r30)<sp/><sp/><sp/>//<sp/>using<sp/>callerSP</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.throwtype(r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>tcp-&gt;location<sp/>=<sp/>location;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,location(r30)<sp/><sp/><sp/><sp/>//<sp/>using<sp/>callerSP</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.location(r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>tcp-&gt;dtor<sp/>=<sp/>dtor;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,dtor(r30)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>using<sp/>callerSP</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,ThrowContext.dtor(r31)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>call<sp/>__ex_throwhandler(&amp;throwcontext);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,r31</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bl<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_ThrowHandler</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nop</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">//</highlight></codeline>
<codeline><highlight class="normal">//<sp/>EPILOGUE</highlight></codeline>
<codeline><highlight class="normal">//<sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r0,8(r30)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>fetch<sp/>old<sp/>LR<sp/>from<sp/>linkage<sp/>area</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sp,r30<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>restore<sp/>caller&apos;s<sp/>SP<sp/>from<sp/>nonvolatile<sp/>r30</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mtlr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r0<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>restore<sp/>LR<sp/>so<sp/>we<sp/>can<sp/>return</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,-4(sp)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>restore<sp/>nonvolatile<sp/>r30<sp/>and<sp/>r31<sp/>callerSP-relative</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r30,-8(sp)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blr</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#pragma<sp/>debug_listing<sp/><sp/>off</highlight></codeline>
<codeline><highlight class="normal">#pragma<sp/>altivec_vrsave<sp/>on</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#else</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Throw<sp/>(rethrow)<sp/>current<sp/>exception<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>type<sp/>(0L:<sp/>rethrow)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>complete<sp/>throw<sp/>object<sp/>(0L:<sp/>rethrow)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>throw<sp/>object<sp/>destructor<sp/>(0L:<sp/>no<sp/>destructor<sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">asm<sp/>void<sp/>__throw(char<sp/>*throwtype,<sp/>void<sp/>*location,<sp/>void<sp/>*dtor)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ThrowContext<sp/>throwcontext;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>allocate<sp/>a<sp/>stack<sp/>frame<sp/>so<sp/>we<sp/>can<sp/>use<sp/>symbolic<sp/>access<sp/>to<sp/>locals</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fralloc</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>save<sp/>GPRs<sp/>so<sp/>we<sp/>can<sp/>restore<sp/>them<sp/>during<sp/>stack<sp/>unwind</highlight></codeline>
<codeline><highlight class="normal">#if<sp/>__PPC_EABI__</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>#if<sp/>!__option(use_lmw_stmw)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r14,throwcontext.GPR[14]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r15,throwcontext.GPR[15]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r16,throwcontext.GPR[16]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r17,throwcontext.GPR[17]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r18,throwcontext.GPR[18]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r19,throwcontext.GPR[19]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r20,throwcontext.GPR[20]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r21,throwcontext.GPR[21]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r22,throwcontext.GPR[22]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r23,throwcontext.GPR[23]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r24,throwcontext.GPR[24]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r25,throwcontext.GPR[25]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r26,throwcontext.GPR[26]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r27,throwcontext.GPR[27]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r28,throwcontext.GPR[28]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r29,throwcontext.GPR[29]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r30,throwcontext.GPR[30]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r31,throwcontext.GPR[31]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>#else</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stmw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r13,throwcontext.GPR[13]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>#endif</highlight></codeline>
<codeline><highlight class="normal">#else</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stmw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r13,throwcontext.GPR[13]</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#ifndef<sp/>_No_Floating_Point_Regs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>save<sp/>FPRs<sp/>so<sp/>we<sp/>can<sp/>restore<sp/>them<sp/>during<sp/>stack<sp/>unwind</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp14,throwcontext.FPR[14]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp15,throwcontext.FPR[15]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp16,throwcontext.FPR[16]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp17,throwcontext.FPR[17]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp18,throwcontext.FPR[18]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp19,throwcontext.FPR[19]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp20,throwcontext.FPR[20]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp21,throwcontext.FPR[21]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp22,throwcontext.FPR[22]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp23,throwcontext.FPR[23]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp24,throwcontext.FPR[24]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp25,throwcontext.FPR[25]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp26,throwcontext.FPR[26]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp27,throwcontext.FPR[27]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp28,throwcontext.FPR[28]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp29,throwcontext.FPR[29]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp30,throwcontext.FPR[30]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stfd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fp31,throwcontext.FPR[31]</highlight></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>save<sp/>CR<sp/>so<sp/>we<sp/>can<sp/>restore<sp/>it<sp/>during<sp/>stack<sp/>unwind</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mfcr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,throwcontext.CR;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>throwcontext.SP<sp/>=<sp/>throwcontext.throwSP<sp/>=<sp/>&lt;stack<sp/>pointer<sp/>of<sp/>caller&gt;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>throwcontext.returnaddr<sp/>=<sp/>&lt;return<sp/>address<sp/>into<sp/>caller&gt;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,0(sp)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r4,RETURN_ADDRESS(r3)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,throwcontext.SP;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,throwcontext.throwSP;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r4,throwcontext.returnaddr;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>throwcontext.throwtype<sp/>=<sp/>throwtype;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,throwtype</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,throwcontext.throwtype</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>throwcontext.location<sp/>=<sp/>location;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,location</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,throwcontext.location</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>throwcontext.dtor<sp/>=<sp/>dtor;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lwz<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,dtor</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stw<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,throwcontext.dtor</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>call<sp/>__ex_throwhandler(&amp;throwcontext);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>la<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r3,throwcontext</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bl<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ExPPC_ThrowHandler</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nop</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/><sp/>(will<sp/>never<sp/>get<sp/>here)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frfree</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blr</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#endif</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Purpose..:<sp/>Deinitialize<sp/>CatchInfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Input....:<sp/>pointer<sp/>to<sp/>catchinfo<sp/>struct<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/*<sp/>Return...:<sp/>---<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">/************************************************************************/</highlight></codeline>
<codeline><highlight class="normal">void<sp/>__end__catch(CatchInfo<sp/>*catchinfo)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(catchinfo-&gt;location<sp/>&amp;&amp;<sp/>catchinfo-&gt;dtor)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DTORCALL_COMPLETE(catchinfo-&gt;dtor,catchinfo-&gt;location);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
    </programlisting>
    <location file="decomp/CodeWarrior/PowerPC_EABI_Support/Runtime/Src/ExceptionPPC.cp"/>
  </compounddef>
</doxygen>
